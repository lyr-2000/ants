{"remainingRequest":"C:\\Users\\123\\Desktop\\大创\\reldomo\\ants\\src\\main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\123\\Desktop\\大创\\reldomo\\ants\\src\\main\\src\\components\\log\\inputContainer.vue?vue&type=style&index=0&id=035161be&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\123\\Desktop\\大创\\reldomo\\ants\\src\\main\\src\\components\\log\\inputContainer.vue","mtime":1567616485935},{"path":"C:\\Users\\123\\Desktop\\大创\\reldomo\\ants\\src\\main\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\123\\Desktop\\大创\\reldomo\\ants\\src\\main\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\123\\Desktop\\大创\\reldomo\\ants\\src\\main\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\123\\Desktop\\大创\\reldomo\\ants\\src\\main\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\123\\Desktop\\大创\\reldomo\\ants\\src\\main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\123\\Desktop\\大创\\reldomo\\ants\\src\\main\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n@inputFontColor:#9fbdd2;\r\n@inputChangeColor:#246c9b;\r\n.inputBg{\r\n    position: fixed;\r\n    left: 50%;\r\n    top: 40%;\r\n    width: 440px;\r\n    height: 400px;\r\n    border-radius: 10px;\r\n    background-color: rgb(255,255,255);\r\n    transform: translateX(-50%) translateY(-50%);\r\n    .infoInput{\r\n        position: absolute;\r\n        left: 50%;\r\n        top: 50%;\r\n        width: 300px;\r\n        height: 340px;\r\n        color: @inputFontColor;\r\n        transform: translateX(-50%) translateY(-50%);\r\n        >p{\r\n            &:first-child{\r\n                font-size: 24px;\r\n                color: @inputChangeColor;\r\n            }\r\n            &:last-child{\r\n                margin-top: 40px;\r\n            }\r\n        }\r\n        .inputContainer{\r\n            position: relative;\r\n            margin: 5px;\r\n            border-bottom: 2px solid @inputFontColor;\r\n            input{\r\n                padding: 30px 10px 5px 10px;\r\n                border:none;\r\n                font-size: 16px;\r\n                letter-spacing: 3px;\r\n                color: @inputChangeColor;\r\n                &::-webkit-input-placeholder{\r\n                    color: @inputFontColor;\r\n                }\r\n            }\r\n            //输入框右侧图片\r\n            img{\r\n                position: absolute;\r\n                right: 10px;\r\n                bottom: 5px;\r\n            }\r\n            &:hover{\r\n                border-color: @inputChangeColor;\r\n            }\r\n            &:focus-within{\r\n                border-color: @inputChangeColor;\r\n            }\r\n        }\r\n        .login{\r\n            border: none;\r\n        }\r\n        button{\r\n            float: right;\r\n            width: 120px;\r\n            height: 35px;\r\n            border-radius: 5px;\r\n            color: rgb(255,255,255);\r\n            background-color: @inputFontColor;\r\n            &:hover{\r\n                background-color: @inputChangeColor;\r\n            }\r\n        }\r\n    }\r\n    .picContainer{\r\n        position: relative;\r\n        width: 400px;\r\n        height: 220px;\r\n        margin: 13px auto;\r\n        border-radius: 10px;\r\n        background-color: #f00;\r\n        .codeTip{\r\n            position: absolute;\r\n            bottom: 0px;\r\n            width: 100%;\r\n            border-radius: 10px;\r\n            text-align: center;\r\n            margin: 0px;\r\n            color: #fff;\r\n            background-color: @inputFontColor;\r\n            p{\r\n                margin: 4px 0px;\r\n            }\r\n        }\r\n        .slideImg{\r\n            position: absolute;\r\n            left: 0px;\r\n            width: 90px;\r\n            height: 90px;\r\n            background-color: black;\r\n        }\r\n        .bigImg{\r\n            width: 100%;\r\n            height: 100%;\r\n        }\r\n    }\r\n    .slideContainer{\r\n        position: relative;\r\n        margin: 0 auto;\r\n        width: 90%;\r\n        height: 100px;\r\n        background-image: url('../../assets/img/index/codeBg.png');\r\n        background-size: 100%;\r\n        background-repeat: no-repeat;\r\n        background-position: center;\r\n        >img{\r\n            position: absolute;\r\n            left: 0px;\r\n            top: 50%;\r\n            width: 90px;\r\n            height: 90px;\r\n            transform: translateY(-50%);\r\n            cursor: pointer;\r\n        }\r\n        .slideOver{\r\n            height: 100px;\r\n        }\r\n        .slidIcon{\r\n            margin: 0px;\r\n            text-align: center;\r\n            >img{\r\n                margin: 0px 10px;\r\n                cursor: pointer;\r\n            }\r\n        }\r\n    }\r\n    .slideSuccess{\r\n        text-align: center;\r\n        >p{\r\n            @imgLength:40px;\r\n            @imgBorder:2px;\r\n            i{\r\n                position: relative;\r\n                display: inline-block;\r\n                width: @imgLength;\r\n                height: @imgLength;\r\n                border:@imgBorder solid @inputFontColor;\r\n                border-radius: 50%;\r\n                line-height: 40px;\r\n                font-size: 24px;\r\n                color: @inputChangeColor;\r\n                &::before{\r\n                    content: \"\";\r\n                    position: absolute;\r\n                    top: -@imgBorder;\r\n                    left: -@imgBorder;\r\n                    width: inherit;\r\n                    height: inherit;\r\n                    border: @imgBorder solid @inputChangeColor;\r\n                    border-radius: 50%;\r\n                    animation: circleLoading 3s linear 0s 1 none;\r\n                }            \r\n                @keyframes circleLoading{\r\n                    0%{\r\n                        clip: rect(0px 0px @imgLength+2*@imgBorder 0px);\r\n                        transform: rotate(100deg);\r\n                    }\r\n                    100%{\r\n                        clip:rect(0px @imgLength+2*@imgBorder @imgLength+2*@imgBorder 0px);\r\n                        transform: rotate(250deg);\r\n                    }\r\n                }\r\n            }\r\n            letter-spacing: 4px;\r\n            font-size: 20px;\r\n            color: @inputFontColor;\r\n        }\r\n        >a{\r\n            display: inline-block;\r\n            padding: 10px 70px;\r\n            border-radius: 10px;\r\n            font-size: 20px;\r\n            text-decoration: none;\r\n            background-color: @inputFontColor;\r\n            color: #fff;\r\n            &:hover{\r\n                background-color: @inputChangeColor;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n",{"version":3,"sources":["inputContainer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"inputContainer.vue","sourceRoot":"src/components/log","sourcesContent":["<template>\r\n    <!-- 登录框 -->\r\n        <div class=\"inputBg\" @mousemove.prevent=\"dragMove\" @mouseup.prevent=\"dragUp\">\r\n            <div v-if=\"!showCode\" :class=\"['infoInput']\">\r\n                <p>登录</p>\r\n\r\n                <InfoInput>\r\n                    <template #input>\r\n                    <input type=\"text\" placeholder=\"学校\" v-model=\"school\" @keyup.enter=\"picCodeRequest\">\r\n                </template>\r\n                    <template #img>\r\n                    <img src=\"../../assets/img/log/school.png\">\r\n                </template>\r\n                </InfoInput>\r\n\r\n                <InfoInput>\r\n                    <template #input>\r\n                    <input type=\"text\" placeholder=\"学号/教工号\" v-model=\"sNo\" @keyup.enter=\"picCodeRequest\">\r\n                </template>\r\n                    <template #img>\r\n                    <img src=\"../../assets/img/log/sNo.png\">\r\n                </template>\r\n                </InfoInput>\r\n\r\n                <InfoInput>\r\n                    <template #input>\r\n                        <input type=\"password\" placeholder=\"密码\" v-model=\"password\" @keyup.enter=\"picCodeRequest\">\r\n                    </template>\r\n                    <template #img>\r\n                        <img src=\"../../assets/img/log/password.png\">\r\n                    </template>\r\n                </InfoInput>\r\n                <p>\r\n                    <input type=\"checkbox\" name=\"rememberPassword\">\r\n                    <label for=\"rememberPassword\">记住账号密码</label>\r\n                    <button class=\"login\" @click=\"picCodeRequest\">登录</button>\r\n                </p>\r\n            </div>\r\n\r\n            <div v-if=\"showCode\" class=\"picContainer\">\r\n                <img v-if=\"!dragStart\" :src=\"[sourceImgName]\">\r\n                <img v-show=\"dragStart\" :src=\"[smallImgName]\" ref=\"slideImg\" class=\"slideImg\" :style=\"`top:${location_y}`\">\r\n                <img :src=\"[bigImgName]\" class=\"bigImg\">\r\n                <div class=\"codeTip\" v-if=\"slideTip\">\r\n                    <p>拼图成功，用时{{slideTime}}s</p>\r\n                </div>\r\n            </div>\r\n            <div v-if=\"showCode&&!slideSuccess\" ref=\"slideCon\" class=\"slideContainer\">\r\n                <img src=\"../../assets/img/index/slideBlock.png\" ref=\"slideHan\" class=\"slideHandle\" @mousedown.prevent=\"dragDown\">\r\n                <div class=\"slideOver\"></div>\r\n                <p class=\"slidIcon\">\r\n                    <img src=\"../../assets/img/index/close.png\" @click=\"closeCode\">\r\n                    <img src=\"../../assets/img/index/refresh.png\" @click=\"picCodeRequest\">\r\n                </p>\r\n            </div>\r\n\r\n            <div v-if=\"showCode&&slideSuccess\" class=\"slideSuccess\">\r\n                <p>\r\n                    <i><img src=\"../../assets/img/index/tick.png\"></i>\r\n                    <span>三秒后自动转到首页</span>\r\n                </p>\r\n                <a href=\"index.html\">立即前往</a>\r\n            </div>\r\n\r\n        </div>\r\n</template>\r\n\r\n<script>\r\nimport InfoInput from './infoInput.vue'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n    data(){\r\n        return{\r\n            slideSuccess: false, // 跳转到首页提示\r\n            startTime: 0, // 验证码开始滑动时间点\r\n            slideTime: 0, // 验证码滑动时长\r\n            slideTip: false, // 验证码结果提示\r\n            showCode: false, // 是否显示验证码\r\n            sourceImgName: \"\",\r\n            bigImgName: \"\",\r\n            smallImgName: \"\",\r\n            location_y: \"0px\",\r\n            location_x: \"\",\r\n            dragStart: false,\r\n            school: \"\",\r\n            sNo: \"\",\r\n            password: \"\",\r\n            dragLeft: \"\",\r\n        }\r\n    },\r\n    methods: {\r\n        dragDown: function(e) {\r\n            this.startTime = new Date();\r\n            let start;\r\n            this.$nextTick(()=>{\r\n                start = e.clientX - this.$refs.slideHan.offsetLeft;\r\n                this.dragStart = true;\r\n                this.dragLeft = start;\r\n            });\r\n            return false;\r\n        },\r\n        dragMove: function(e) {\r\n            if (this.dragStart) {\r\n                let location_x = e.clientX - this.dragLeft;\r\n                if (location_x < 0) {\r\n                    location_x = 0;\r\n                } else if (location_x > 310) {\r\n                    location_x = 310;\r\n                }\r\n                this.location_x = location_x;\r\n                this.$nextTick(()=>{\r\n                    this.$refs.slideHan.style.left = this.location_x + 'px';\r\n                    this.$refs.slideImg.style.left = this.location_x + 'px';\r\n                })\r\n\r\n            }\r\n        },\r\n        dragUp: function() {\r\n            if (this.dragStart) {\r\n                this.dragStart = false;\r\n                this.slideTime = (new Date() - this.startTime) / 1000;\r\n                this.dragUpRequest();\r\n            }\r\n        },\r\n        picCodeRequest: function() {\r\n            this.showCode = true;\r\n            let that=this;\r\n            axios.get(\"/slideCode/slide\")\r\n            .then((res) => {\r\n                console.log(res);\r\n                res=res.data\r\n                this.bigImgName = `img/${res.bigImgName}`;\r\n                this.sourceImgName = `img/${res.sourceImgName}`;\r\n                this.smallImgName = `img/${res.smallImgName}`;\r\n                that.location_y = res.location_y;\r\n                that.$refs.slideImg.style.top = that.location_y + 'px';\r\n                console.log('that.$refs.slideImg: ', that.$refs.slideImg);\r\n                console.log('this.location_y: ', that.location_y);\r\n            }).catch((err) => {\r\n                console.error(`error ${err} happen when get picture code`);\r\n            })\r\n        },\r\n        closeCode: function() {\r\n            this.showCode = false;\r\n        },\r\n        dragUpRequest: function() {\r\n            console.log(this.location_x)\r\n            let that=this\r\n            axios.post('/slideCode/checkServlet', {\r\n                point: that.location_x\r\n            }).then((res) => {\r\n                console.log('res: ', res);\r\n                if (res.data.status == 1) {\r\n                    that.slideTip = true;\r\n                    that.loginRequest();\r\n                } else {\r\n                    alert(res.data.message);\r\n                }\r\n            }).catch(err => {})\r\n        },\r\n        loginRequest: function() { // 发起登录请求\r\n            let encodeData = this.submitForm1();\r\n            let that=this;\r\n            if (!encodeData) {\r\n                this.showCode = false;\r\n                this.slideTip = false;\r\n            } else {\r\n                axios.post('/url', {\r\n                    school: that.school,\r\n                    encodeData: encodeData,\r\n                    //图片的滑动x坐标\r\n                }).then((res) => {\r\n                    if (res == 'success') {\r\n                        that.slideSuccess = true;\r\n                        setTimeout(function() {\r\n                            window.location.replace('index.html');\r\n                        }, 3000);\r\n                    } else {\r\n\r\n                    }\r\n\r\n                }).catch((err) => {\r\n\r\n                })\r\n            }\r\n        },\r\n        submitForm1: function() {\r\n            try {\r\n                let xh = this.sNo;\r\n                let pwd = this.password;\r\n                if (xh == \"\") {\r\n                    console.log(\"用户名不能为空！\");\r\n                    return false;\r\n                }\r\n                if (pwd == \"\") {\r\n                    console.log(\"密码不能为空！\");\r\n                    return false;\r\n                }\r\n                // let account = encodeInp(xh);\r\n                // let passwd = encodeInp(pwd);\r\n                let account = xh;\r\n                let passwd = pwd;\r\n                let encoded = account + \"%%%\" + passwd;\r\n                return encoded;\r\n            } catch (e) {\r\n                alert(e.Message);\r\n                return false;\r\n            }\r\n        }\r\n    },\r\n    components: {\r\n        InfoInput\r\n    },\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"less\" scoped>\r\n@inputFontColor:#9fbdd2;\r\n@inputChangeColor:#246c9b;\r\n.inputBg{\r\n    position: fixed;\r\n    left: 50%;\r\n    top: 40%;\r\n    width: 440px;\r\n    height: 400px;\r\n    border-radius: 10px;\r\n    background-color: rgb(255,255,255);\r\n    transform: translateX(-50%) translateY(-50%);\r\n    .infoInput{\r\n        position: absolute;\r\n        left: 50%;\r\n        top: 50%;\r\n        width: 300px;\r\n        height: 340px;\r\n        color: @inputFontColor;\r\n        transform: translateX(-50%) translateY(-50%);\r\n        >p{\r\n            &:first-child{\r\n                font-size: 24px;\r\n                color: @inputChangeColor;\r\n            }\r\n            &:last-child{\r\n                margin-top: 40px;\r\n            }\r\n        }\r\n        .inputContainer{\r\n            position: relative;\r\n            margin: 5px;\r\n            border-bottom: 2px solid @inputFontColor;\r\n            input{\r\n                padding: 30px 10px 5px 10px;\r\n                border:none;\r\n                font-size: 16px;\r\n                letter-spacing: 3px;\r\n                color: @inputChangeColor;\r\n                &::-webkit-input-placeholder{\r\n                    color: @inputFontColor;\r\n                }\r\n            }\r\n            //输入框右侧图片\r\n            img{\r\n                position: absolute;\r\n                right: 10px;\r\n                bottom: 5px;\r\n            }\r\n            &:hover{\r\n                border-color: @inputChangeColor;\r\n            }\r\n            &:focus-within{\r\n                border-color: @inputChangeColor;\r\n            }\r\n        }\r\n        .login{\r\n            border: none;\r\n        }\r\n        button{\r\n            float: right;\r\n            width: 120px;\r\n            height: 35px;\r\n            border-radius: 5px;\r\n            color: rgb(255,255,255);\r\n            background-color: @inputFontColor;\r\n            &:hover{\r\n                background-color: @inputChangeColor;\r\n            }\r\n        }\r\n    }\r\n    .picContainer{\r\n        position: relative;\r\n        width: 400px;\r\n        height: 220px;\r\n        margin: 13px auto;\r\n        border-radius: 10px;\r\n        background-color: #f00;\r\n        .codeTip{\r\n            position: absolute;\r\n            bottom: 0px;\r\n            width: 100%;\r\n            border-radius: 10px;\r\n            text-align: center;\r\n            margin: 0px;\r\n            color: #fff;\r\n            background-color: @inputFontColor;\r\n            p{\r\n                margin: 4px 0px;\r\n            }\r\n        }\r\n        .slideImg{\r\n            position: absolute;\r\n            left: 0px;\r\n            width: 90px;\r\n            height: 90px;\r\n            background-color: black;\r\n        }\r\n        .bigImg{\r\n            width: 100%;\r\n            height: 100%;\r\n        }\r\n    }\r\n    .slideContainer{\r\n        position: relative;\r\n        margin: 0 auto;\r\n        width: 90%;\r\n        height: 100px;\r\n        background-image: url('../../assets/img/index/codeBg.png');\r\n        background-size: 100%;\r\n        background-repeat: no-repeat;\r\n        background-position: center;\r\n        >img{\r\n            position: absolute;\r\n            left: 0px;\r\n            top: 50%;\r\n            width: 90px;\r\n            height: 90px;\r\n            transform: translateY(-50%);\r\n            cursor: pointer;\r\n        }\r\n        .slideOver{\r\n            height: 100px;\r\n        }\r\n        .slidIcon{\r\n            margin: 0px;\r\n            text-align: center;\r\n            >img{\r\n                margin: 0px 10px;\r\n                cursor: pointer;\r\n            }\r\n        }\r\n    }\r\n    .slideSuccess{\r\n        text-align: center;\r\n        >p{\r\n            @imgLength:40px;\r\n            @imgBorder:2px;\r\n            i{\r\n                position: relative;\r\n                display: inline-block;\r\n                width: @imgLength;\r\n                height: @imgLength;\r\n                border:@imgBorder solid @inputFontColor;\r\n                border-radius: 50%;\r\n                line-height: 40px;\r\n                font-size: 24px;\r\n                color: @inputChangeColor;\r\n                &::before{\r\n                    content: \"\";\r\n                    position: absolute;\r\n                    top: -@imgBorder;\r\n                    left: -@imgBorder;\r\n                    width: inherit;\r\n                    height: inherit;\r\n                    border: @imgBorder solid @inputChangeColor;\r\n                    border-radius: 50%;\r\n                    animation: circleLoading 3s linear 0s 1 none;\r\n                }            \r\n                @keyframes circleLoading{\r\n                    0%{\r\n                        clip: rect(0px 0px @imgLength+2*@imgBorder 0px);\r\n                        transform: rotate(100deg);\r\n                    }\r\n                    100%{\r\n                        clip:rect(0px @imgLength+2*@imgBorder @imgLength+2*@imgBorder 0px);\r\n                        transform: rotate(250deg);\r\n                    }\r\n                }\r\n            }\r\n            letter-spacing: 4px;\r\n            font-size: 20px;\r\n            color: @inputFontColor;\r\n        }\r\n        >a{\r\n            display: inline-block;\r\n            padding: 10px 70px;\r\n            border-radius: 10px;\r\n            font-size: 20px;\r\n            text-decoration: none;\r\n            background-color: @inputFontColor;\r\n            color: #fff;\r\n            &:hover{\r\n                background-color: @inputChangeColor;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n</style>\r\n"]}]}